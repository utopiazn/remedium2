<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="join">



	<insert id="insert" parameterType="hashmap">
		<![CDATA[
			
			
		INSERT INTO MEMBER 
			(MEMBERID, MEMBERPASSWORD, MEMBERNAME, GENDER, BIRTHDAY, PHONE, EMAIL, 
				REGDATE, USERADMIN, ZIPCODE, ADDR1, ADDR2, CASH, USERCHECK) 
		VALUES (
			#{memberID}, 
			#{memberPassword}, 
			#{memberName}, 
			#{gender}, 
			#{birthday},
			#{phone}, 
			#{email}, 
			sysdate, 
			'0', 
			#{zipcode}, 
			#{addr1}, 
			#{addr2},0, 0 )
		]]>
	</insert>
	
		<!-- 캐쉬 충전 -->
	<update id="updateCash" parameterType="hashmap">
	 <![CDATA[
	 update 
	 	member
	 set
	 	cash = cash + #{cash}
	 where
	 	memberID = #{memberId}
	 	]]>
	</update>
	

	<!-- 캐쉬 결제 -->
	<update id="pay" parameterType="hashmap">
	 <![CDATA[
	 update
	 	 member 
	  set 
	  	cash = #{cash}
	  where 
	  	memberID = #{memberId}
	  	]]>
	</update>

</mapper>